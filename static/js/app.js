webpackJsonp([1],{"8kSB":function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),a={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"box"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):t._e()],1),t._v(" "),0==this.$route.meta.keepAlive?e("router-view"):t._e()],1),t._v(" "),e("div",{attrs:{id:"foots"}},[e("div",{staticClass:"home",on:{click:function(i){return t.click(0)}}},[e("b",[t._v("主页")])]),t._v(" "),e("div",{staticClass:"buy",on:{click:function(i){return t.click(1)}}},[e("b",[t._v("购买")])]),t._v(" "),e("div",{staticClass:"my",on:{click:function(i){return t.click(2)}}},[e("b",[t._v("我的")])])]),t._v(" "),e("div",{staticClass:"at"},[e("div",{staticClass:"at_1"},[t._m(0),t._v(" "),e("div",[t._v("请不要重复点击哦！")]),t._v(" "),e("div",{staticClass:"btn"},[e("span",{on:{click:function(i){return t.click(3)}}},[t._v("好的")]),t._v(" "),e("span",{on:{click:function(i){return t.click(3)}}},[t._v("了解")])])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:"https://s1.4sai.com/src/img/png/5b/5bd11cd5bcda49e2b60c65cf8be3d56a.png?e=1735488000&token=1srnZGLKZ0Aqlz6dk7yF4SkiYf4eP-YrEOdM1sob:wrtV9-aelooYH7KiY3RSj9hlECs=",width:"70%"}})])}]};var c=e("VU/8")({name:"App",data:function(){return{a:"none"}},methods:{click:function(t){switch(t){case 0:this.$router.push({name:"home",params:{id:0}}).catch(function(t){});break;case 1:this.$router.push({name:"buy"}).catch(function(t){})}}}},a,!1,function(t){e("8kSB")},null,null).exports,r=e("/ocq"),n={name:"home",data:function(){return{products:[{id:0,name:"怡清源黑茶湖南安化旗舰店正品7年陈料原叶手筑金花茯砖茶礼盒1kg",description:"",price:199,quantity:1,imgUrl:"https://img.alicdn.com/imgextra/i3/15879084/O1CN01PRpvbR2GyWfAbhh6G_!!0-saturn_solar.jpg_468x468q75.jpg_.webp"},{id:10,name:"商品2",description:"这是商品2的介绍",price:299,quantity:1,imgUrl:"product2.jpg"}],cart:[],totalPrice:0,showCart:!1,shop:[]}},methods:{addToCart:function(t){this.cart.push(this.products[t]),this.$store.commit("changeCart",this.products[t]),this.totalPrice=Number(this.totalPrice),this.totalPrice+=this.products[t].price;var i={};this.cart.forEach(function(t){var e=t.id;i[e]=i[e]?i[e]+1:1}),this.shop=i,this.$store.commit("changeShop",i)},goToPage:function(t){this.$router.push({name:"sale",params:{id:t,shop:this.shop,cart:this.cart,totalPrice:this.totalPrice}}),document.querySelector("#foots").style.display="none"}},activated:function(){this.totalPrice=Number(this.$store.state.totalPrice)||0,this.cart=this.$store.state.cart},deactivated:function(){this.$store.commit("changeTotalPrice",this.totalPrice)}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t._m(0),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"products"},t._l(t.products,function(i,s){return e("div",{key:s,staticClass:"product"},[e("img",{attrs:{src:i.imgUrl,alt:i.name},on:{click:function(e){return t.goToPage(i.id)}}}),t._v(" "),e("h3",[t._v(t._s(i.name))]),t._v(" "),e("p",[t._v(t._s(i.description))]),t._v(" "),e("span",{staticClass:"price"},[t._v(t._s(i.price)+"元")]),t._v(" "),e("button",{staticClass:"add-to-cart",on:{click:function(i){return t.addToCart(s)}}},[t._v("加入购物车")])])}),0)]),t._v(" "),e("div",{staticClass:"footer"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCart,expression:"showCart"}],staticClass:"cart"},[e("h2",[t._v("购物车")]),t._v(" "),e("ul",t._l(t.cart,function(i,s){return e("li",{key:s},[t._v("\n                  "+t._s(i.name)+" - "+t._s(i.price)+"元\n                  "),e("button",{on:{click:function(i){return t.removeFromCart(s)}}},[t._v("移除")])])}),0)]),t._v(" "),e("p",[t._v("购物车中有 "+t._s(t.cart.length)+" 件商品，总价值 "+t._s(t.totalPrice)+" 元")])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"header"},[i("h3",[this._v("主页")])])}]};var u=e("VU/8")(n,o,!1,function(t){e("UIVl")},null,null).exports,l={data:function(){return{cartItems:[{id:0,name:"怡清源黑茶湖南安化旗舰店正品7年陈料原叶手筑金花茯砖茶礼盒1kg",description:"",price:199,quantity:1,imageSrc:"https://img.alicdn.com/imgextra/i3/15879084/O1CN01PRpvbR2GyWfAbhh6G_!!0-saturn_solar.jpg_468x468q75.jpg_.webp"}]}},computed:{totalPrice:function(){return this.cartItems.reduce(function(t,i){return t+i.price*i.quantity},0)}},methods:{increaseQuantity:function(t){if(t.quantity++,this.$store.commit("changeCart",t),0==this.totalPrice);else{var i=this.$store.state.shop;for(var e in i)e==t.id&&(i[e]=i[e]+1);this.$store.commit("changeShop",i)}console.log(this.$store.state.shop)},decreaseQuantity:function(t){if(t.quantity>1){t.quantity--;var i=this.$store.state.shop;for(var e in i)e==t.id&&(i[e]=i[e]-1);this.$store.commit("changeShop",i),console.log(this.$store.state.shop)}},removeItem:function(t){var i=this.cartItems.findIndex(function(i){return i.id===t.id});-1!==i&&this.cartItems.splice(i,1)},checkout:function(){alert("结算成功！")}},activated:function(){this.totalPrice=Number(this.$store.state.totalPrice),console.log(this.$store.state.shop)},deactivated:function(){this.$store.commit("changeTotalPrice",this.totalPrice)}},h={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"shopping-cart"},[e("h1",[t._v("购物车")]),t._v(" "),e("div",{staticClass:"shopping-cart-list"},t._l(t.cartItems,function(i){return e("div",{key:i.id,staticClass:"shopping-cart-item"},[e("img",{staticClass:"product-image",attrs:{src:i.imageSrc,alt:"商品图片"}}),t._v(" "),e("div",{staticClass:"product-info"},[e("h2",{staticClass:"product-name"},[t._v(t._s(i.name))]),t._v(" "),e("p",{staticClass:"product-price"},[t._v("价格：￥"+t._s(i.price))]),t._v(" "),e("div",{staticClass:"product-quantity"},[e("button",{staticClass:"quantity-btn",on:{click:function(e){return t.decreaseQuantity(i)}}},[t._v("-")]),t._v(" "),e("span",[t._v(t._s(i.quantity))]),t._v(" "),e("button",{staticClass:"quantity-btn",on:{click:function(e){return t.increaseQuantity(i)}}},[t._v("+")])]),t._v(" "),e("button",{staticClass:"remove-btn",on:{click:function(e){return t.removeItem(i)}}},[t._v("删除")])])])}),0),t._v(" "),e("div",[e("p",[t._v("总价：￥"+t._s(t.totalPrice))]),t._v(" "),e("button",{staticClass:"checkout-btn",on:{click:t.checkout}},[t._v("结算")])])])},staticRenderFns:[]};var d=e("VU/8")(l,h,!1,function(t){e("W8V5")},null,null).exports,p=e("mvHQ"),v=e.n(p),m={data:function(){return{product:{id:0,title:"测试商品",description:"这是一个测试商品的简介信息。",price:99.5,images:[{src:"https://pic.3gbizhi.com/uploads/20230922/023df05c3ce9a238be9dd952e372e78a.jpg"},{src:"https://pic.3gbizhi.com/uploads/20230902/769f9ab2b7b2065acd1dd552fa0ab850.png"},{src:"https://pic.3gbizhi.com/uploads/20230811/47646055de3303e949e3b2ad76a4b0eb.png"}]},carouselTimer:null,activeIndex:0,carouselInterval:3e3,cart:[],totalPrice:"",shop:""}},computed:{totalImages:function(){return this.product.images.length},counter:function(){return this.activeIndex+1+"/"+this.totalImages}},methods:{goBack:function(){this.$router.go(-1),document.querySelector("#foots").style.display="flex",window.sessionStorage.setItem("totalPrice",v()(this.totalPrice))},buy:function(){},addToCart:function(){this.cart.push(this.product),this.totalPrice+=this.product.price,console.log(this.cart);var t={};this.cart.forEach(function(i){var e=i.id;t[e]=t[e]?t[e]+1:1}),this.shop=t,console.log(this.shop)},startCarousel:function(){var t=this,i=this.$refs.carousel;this.carouselTimer=setInterval(function(){var e=t.product.images.length,s=(t.activeIndex+1)%e,a=s*i.clientWidth;i.scrollTo({left:a,behavior:"smooth"}),t.activeIndex=s},this.carouselInterval)},beforeDestroy:function(){clearInterval(this.carouselTimer)}},mounted:function(){this.startCarousel(),this.product.id=this.$route.params.id,this.cart=this.$route.params.cart,this.totalPrice=this.$route.params.totalPrice,this.shop=this.$route.params.shop}},_={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"detail"},[e("div",{staticClass:"title-bar"},[e("button",{staticClass:"back-button",on:{click:t.goBack}},[t._v("\n          返回\n      ")]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"counter"},[t._v(t._s(t.counter))])]),t._v(" "),e("div",{ref:"carousel",staticClass:"image-carousel"},t._l(t.product.images,function(t,i){return e("img",{key:i,attrs:{src:t.src}})}),0),t._v(" "),e("div",{staticClass:"product-info"},[e("h2",{staticClass:"titles"},[t._v(t._s(t.product.title))]),t._v(" "),e("p",{staticClass:"description"},[t._v(t._s(t.product.description))]),t._v(" "),e("p",{staticClass:"price"},[t._v("￥"+t._s(t.product.price))]),t._v(" "),e("div",{staticClass:"buttons"},[e("button",{staticClass:"buy-button",on:{click:t.addToCart}},[t._v("加入购物车")]),t._v(" "),e("button",{staticClass:"add-to-cart-button",on:{click:t.buy}},[t._v("立即购买")])])]),t._v(" "),e("div",{staticClass:"footer_1"},[e("p",[t._v("购物车中有 "+t._s(t.cart.length)+" 件商品，总价值 "+t._s(t.totalPrice)+" 元")])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title-container"},[i("p",{staticClass:"title"},[this._v("商品详情")])])}]};var f=e("VU/8")(m,_,!1,function(t){e("r7BJ")},null,null).exports;s.a.use(r.a);var g=new r.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:u,meta:{keepAlive:!0}},{path:"/buy",name:"buy",component:d,meta:{keepAlive:!0}},{path:"/sale",name:"sale",component:f,meta:{keepAlive:!1}}]}),b=e("NYxO");s.a.use(b.a);var C=new b.a.Store({state:{cart:[],shop:{0:1},totalPrice:0},mutations:{changeCart:function(t,i){t.cart.push(i)},changeTotalPrice:function(t,i){t.totalPrice=i},changeShop:function(t,i){t.shop=i}},actions:{},getters:{}});s.a.config.productionTip=!1,new s.a({el:"#app",router:g,store:C,components:{App:c},template:"<App/>"})},UIVl:function(t,i){},W8V5:function(t,i){},r7BJ:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.js.map